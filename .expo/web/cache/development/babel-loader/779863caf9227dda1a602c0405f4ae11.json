{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/runner/work/react-native-action-sheet/react-native-action-sheet/src/ActionSheet/index.tsx\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport * as React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActionGroup from \"./ActionGroup\";\nvar OPACITY_ANIMATION_IN_TIME = 225;\nvar OPACITY_ANIMATION_OUT_TIME = 195;\nvar EASING_OUT = Easing.bezier(0.25, 0.46, 0.45, 0.94);\nvar EASING_IN = Easing.out(EASING_OUT);\nvar ESCAPE_KEY = 'Escape';\n\nvar ActionSheet = function (_React$Component) {\n  _inherits(ActionSheet, _React$Component);\n\n  var _super = _createSuper(ActionSheet);\n\n  function ActionSheet() {\n    var _this;\n\n    _classCallCheck(this, ActionSheet);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._actionSheetHeight = 360;\n    _this.state = {\n      isVisible: false,\n      isAnimating: false,\n      options: null,\n      onSelect: null,\n      overlayOpacity: new Animated.Value(0),\n      sheetOpacity: new Animated.Value(0)\n    };\n    _this._deferAfterAnimation = undefined;\n\n    _this._handleWebKeyDown = function (event) {\n      if (event.key === ESCAPE_KEY && _this.state.isVisible) {\n        event.preventDefault();\n\n        _this._selectCancelButton();\n      }\n    };\n\n    _this._setActionSheetHeight = function (_ref) {\n      var nativeEvent = _ref.nativeEvent;\n      return _this._actionSheetHeight = nativeEvent.layout.height;\n    };\n\n    _this.showActionSheetWithOptions = function (options, onSelect) {\n      var _this$state = _this.state,\n          isVisible = _this$state.isVisible,\n          overlayOpacity = _this$state.overlayOpacity,\n          sheetOpacity = _this$state.sheetOpacity;\n\n      if (isVisible) {\n        _this._deferAfterAnimation = _this.showActionSheetWithOptions.bind(_assertThisInitialized(_this), options, onSelect);\n        return;\n      }\n\n      _this.setState({\n        options: options,\n        onSelect: onSelect,\n        isVisible: true,\n        isAnimating: true\n      });\n\n      overlayOpacity.setValue(0);\n      sheetOpacity.setValue(0);\n      Animated.parallel([Animated.timing(overlayOpacity, {\n        toValue: 0.32,\n        easing: EASING_OUT,\n        duration: OPACITY_ANIMATION_IN_TIME,\n        useNativeDriver: _this.props.useNativeDriver\n      }), Animated.timing(sheetOpacity, {\n        toValue: 1,\n        easing: EASING_OUT,\n        duration: OPACITY_ANIMATION_IN_TIME,\n        useNativeDriver: _this.props.useNativeDriver\n      })]).start(function (result) {\n        if (result.finished) {\n          _this.setState({\n            isAnimating: false\n          });\n\n          _this._deferAfterAnimation = undefined;\n        }\n      });\n      BackHandler.addEventListener('actionSheetHardwareBackPress', _this._selectCancelButton);\n    };\n\n    _this._selectCancelButton = function () {\n      var options = _this.state.options;\n\n      if (!options) {\n        return false;\n      }\n\n      if (typeof options.cancelButtonIndex === 'undefined') {\n        return false;\n      } else if (typeof options.cancelButtonIndex === 'number') {\n        return _this._onSelect(options.cancelButtonIndex);\n      } else {\n        return _this._animateOut();\n      }\n    };\n\n    _this._onSelect = function (index) {\n      var _this$state2 = _this.state,\n          isAnimating = _this$state2.isAnimating,\n          onSelect = _this$state2.onSelect;\n\n      if (isAnimating) {\n        return false;\n      }\n\n      if (onSelect) {\n        _this._deferAfterAnimation = onSelect.bind(_assertThisInitialized(_this), index);\n      }\n\n      return _this._animateOut();\n    };\n\n    _this._animateOut = function () {\n      var _this$state3 = _this.state,\n          isAnimating = _this$state3.isAnimating,\n          overlayOpacity = _this$state3.overlayOpacity,\n          sheetOpacity = _this$state3.sheetOpacity;\n\n      if (isAnimating) {\n        return false;\n      }\n\n      BackHandler.removeEventListener('actionSheetHardwareBackPress', _this._selectCancelButton);\n\n      _this.setState({\n        isAnimating: true\n      });\n\n      Animated.parallel([Animated.timing(overlayOpacity, {\n        toValue: 0,\n        easing: EASING_IN,\n        duration: OPACITY_ANIMATION_OUT_TIME,\n        useNativeDriver: _this.props.useNativeDriver\n      }), Animated.timing(sheetOpacity, {\n        toValue: 0,\n        easing: EASING_IN,\n        duration: OPACITY_ANIMATION_OUT_TIME,\n        useNativeDriver: _this.props.useNativeDriver\n      })]).start(function (result) {\n        if (result.finished) {\n          _this.setState({\n            isVisible: false,\n            isAnimating: false\n          });\n\n          if (_this._deferAfterAnimation) {\n            _this._deferAfterAnimation();\n          }\n        }\n      });\n      return true;\n    };\n\n    return _this;\n  }\n\n  _createClass(ActionSheet, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (Platform.OS === 'web') {\n        document.addEventListener('keydown', this._handleWebKeyDown);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (Platform.OS === 'web') {\n        document.removeEventListener('keydown', this._handleWebKeyDown);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state4 = this.state,\n          isVisible = _this$state4.isVisible,\n          overlayOpacity = _this$state4.overlayOpacity,\n          options = _this$state4.options;\n      var useModal = options ? options.autoFocus || options.useModal === true : false;\n      var overlay = isVisible ? React.createElement(Animated.View, {\n        style: [styles.overlay, {\n          opacity: overlayOpacity\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }) : null;\n      var appContent = React.createElement(View, {\n        style: styles.flexContainer,\n        importantForAccessibility: isVisible ? 'no-hide-descendants' : 'auto',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, React.Children.only(this.props.children));\n      return React.createElement(View, {\n        pointerEvents: this.props.pointerEvents,\n        style: styles.flexContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 7\n        }\n      }, appContent, isVisible && !useModal && React.createElement(React.Fragment, null, overlay, this._renderSheet()), isVisible && useModal && React.createElement(Modal, {\n        animationType: \"none\",\n        transparent: true,\n        onRequestClose: this._selectCancelButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }\n      }, overlay, this._renderSheet()));\n    }\n  }, {\n    key: \"_renderSheet\",\n    value: function _renderSheet() {\n      var _this$state5 = this.state,\n          options = _this$state5.options,\n          isAnimating = _this$state5.isAnimating,\n          sheetOpacity = _this$state5.sheetOpacity;\n\n      if (!options) {\n        return null;\n      }\n\n      var optionsArray = options.options,\n          icons = options.icons,\n          tintIcons = options.tintIcons,\n          destructiveButtonIndex = options.destructiveButtonIndex,\n          disabledButtonIndices = options.disabledButtonIndices,\n          destructiveColor = options.destructiveColor,\n          textStyle = options.textStyle,\n          tintColor = options.tintColor,\n          title = options.title,\n          titleTextStyle = options.titleTextStyle,\n          message = options.message,\n          messageTextStyle = options.messageTextStyle,\n          autoFocus = options.autoFocus,\n          showSeparators = options.showSeparators,\n          containerStyle = options.containerStyle,\n          separatorStyle = options.separatorStyle;\n      return React.createElement(TouchableWithoutFeedback, {\n        importantForAccessibility: \"yes\",\n        onPress: this._selectCancelButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 7\n        }\n      }, React.createElement(Animated.View, {\n        needsOffscreenAlphaCompositing: isAnimating,\n        style: [styles.sheetContainer, {\n          opacity: sheetOpacity,\n          transform: [{\n            translateY: sheetOpacity.interpolate({\n              inputRange: [0, 1],\n              outputRange: [this._actionSheetHeight, 0]\n            })\n          }]\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.sheet,\n        onLayout: this._setActionSheetHeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }\n      }, React.createElement(ActionGroup, {\n        options: optionsArray,\n        icons: icons,\n        tintIcons: tintIcons === undefined ? true : tintIcons,\n        destructiveButtonIndex: destructiveButtonIndex,\n        destructiveColor: destructiveColor,\n        disabledButtonIndices: disabledButtonIndices,\n        onSelect: this._onSelect,\n        startIndex: 0,\n        length: optionsArray.length,\n        textStyle: textStyle || {},\n        tintColor: tintColor,\n        title: title || undefined,\n        titleTextStyle: titleTextStyle,\n        message: message || undefined,\n        messageTextStyle: messageTextStyle,\n        autoFocus: autoFocus,\n        showSeparators: showSeparators,\n        containerStyle: containerStyle,\n        separatorStyle: separatorStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return ActionSheet;\n}(React.Component);\n\nActionSheet.defaultProps = {\n  useNativeDriver: true\n};\nexport { ActionSheet as default };\nvar styles = StyleSheet.create({\n  flexContainer: {\n    flex: 1\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    backgroundColor: 'black'\n  },\n  sheetContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    top: 0,\n    backgroundColor: 'transparent',\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    flexDirection: 'row'\n  },\n  sheet: {\n    flex: 1,\n    backgroundColor: 'transparent'\n  }\n});","map":{"version":3,"mappings":"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","names":["React","ActionGroup","OPACITY_ANIMATION_IN_TIME","OPACITY_ANIMATION_OUT_TIME","EASING_OUT","Easing","bezier","EASING_IN","out","ESCAPE_KEY","ActionSheet","_actionSheetHeight","state","isVisible","isAnimating","options","onSelect","overlayOpacity","Animated","Value","sheetOpacity","_deferAfterAnimation","undefined","_handleWebKeyDown","event","key","_this","preventDefault","_selectCancelButton","_setActionSheetHeight","nativeEvent","layout","height","showActionSheetWithOptions","bind","setState","setValue","parallel","timing","toValue","easing","duration","useNativeDriver","props","start","result","finished","BackHandler","addEventListener","cancelButtonIndex","_onSelect","_animateOut","index","removeEventListener","Platform","OS","document","useModal","autoFocus","overlay","View","style","styles","opacity","__source","fileName","lineNumber","columnNumber","appContent","flexContainer","importantForAccessibility","Children","only","children","pointerEvents","_renderSheet","Modal","animationType","transparent","onRequestClose","optionsArray","icons","tintIcons","destructiveButtonIndex","disabledButtonIndices","destructiveColor","textStyle","tintColor","title","titleTextStyle","message","messageTextStyle","showSeparators","containerStyle","separatorStyle","TouchableWithoutFeedback","onPress","needsOffscreenAlphaCompositing","sheetContainer","transform","translateY","interpolate","inputRange","outputRange","sheet","onLayout","startIndex","length","Component","defaultProps","StyleSheet","create","flex","position","top","right","bottom","left","backgroundColor","alignItems","justifyContent","flexDirection"],"sources":["index.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  Animated,\n  BackHandler,\n  Easing,\n  Modal,\n  Platform,\n  StyleSheet,\n  TouchableWithoutFeedback,\n  View,\n  ViewProps,\n} from 'react-native';\n\nimport { ActionSheetOptions } from '../types';\nimport ActionGroup from './ActionGroup';\n\ninterface State {\n  isVisible: boolean;\n  isAnimating: boolean;\n  options: ActionSheetOptions | null;\n  onSelect: ((i: number) => void) | null;\n  overlayOpacity: any;\n  sheetOpacity: any;\n}\n\ninterface Props {\n  readonly useNativeDriver: boolean | undefined;\n  readonly pointerEvents?: ViewProps['pointerEvents'];\n}\n\nconst OPACITY_ANIMATION_IN_TIME = 225;\nconst OPACITY_ANIMATION_OUT_TIME = 195;\nconst EASING_OUT = Easing.bezier(0.25, 0.46, 0.45, 0.94);\nconst EASING_IN = Easing.out(EASING_OUT);\nconst ESCAPE_KEY = 'Escape';\n\n// Has same API as https://facebook.github.io/react-native/docs/actionsheetios.html\nexport default class ActionSheet extends React.Component<Props, State> {\n  static defaultProps = {\n    useNativeDriver: true,\n  };\n\n  _actionSheetHeight = 360;\n\n  state: State = {\n    isVisible: false,\n    isAnimating: false,\n    options: null,\n    onSelect: null,\n    overlayOpacity: new Animated.Value(0),\n    sheetOpacity: new Animated.Value(0),\n  };\n\n  _deferAfterAnimation?: () => void = undefined;\n\n  componentDidMount() {\n    if (Platform.OS === 'web') {\n      document.addEventListener('keydown', this._handleWebKeyDown);\n    }\n  }\n\n  componentWillUnmount() {\n    if (Platform.OS === 'web') {\n      document.removeEventListener('keydown', this._handleWebKeyDown);\n    }\n  }\n\n  _handleWebKeyDown = (event: KeyboardEvent): void => {\n    if (event.key === ESCAPE_KEY && this.state.isVisible) {\n      event.preventDefault();\n      this._selectCancelButton();\n    }\n  };\n\n  _setActionSheetHeight = ({ nativeEvent }: any) =>\n    (this._actionSheetHeight = nativeEvent.layout.height);\n\n  render() {\n    const { isVisible, overlayOpacity, options } = this.state;\n    const useModal = options ? options.autoFocus || options.useModal === true : false;\n    const overlay = isVisible ? (\n      <Animated.View\n        style={[\n          styles.overlay,\n          {\n            opacity: overlayOpacity,\n          },\n        ]}\n      />\n    ) : null;\n\n    // While the sheet is visible, hide the rest of the app's content from screen readers.\n    const appContent = (\n      <View\n        style={styles.flexContainer}\n        importantForAccessibility={isVisible ? 'no-hide-descendants' : 'auto'}>\n        {React.Children.only(this.props.children)}\n      </View>\n    );\n\n    return (\n      <View pointerEvents={this.props.pointerEvents} style={styles.flexContainer}>\n        {appContent}\n        {isVisible && !useModal && (\n          <>\n            {overlay}\n            {this._renderSheet()}\n          </>\n        )}\n        {isVisible && useModal && (\n          <Modal animationType=\"none\" transparent onRequestClose={this._selectCancelButton}>\n            {overlay}\n            {this._renderSheet()}\n          </Modal>\n        )}\n      </View>\n    );\n  }\n\n  _renderSheet() {\n    const { options, isAnimating, sheetOpacity } = this.state;\n\n    if (!options) {\n      return null;\n    }\n\n    const {\n      options: optionsArray,\n      icons,\n      tintIcons,\n      destructiveButtonIndex,\n      disabledButtonIndices,\n      destructiveColor,\n      textStyle,\n      tintColor,\n      title,\n      titleTextStyle,\n      message,\n      messageTextStyle,\n      autoFocus,\n      showSeparators,\n      containerStyle,\n      separatorStyle,\n    } = options;\n    return (\n      <TouchableWithoutFeedback importantForAccessibility=\"yes\" onPress={this._selectCancelButton}>\n        <Animated.View\n          needsOffscreenAlphaCompositing={isAnimating}\n          style={[\n            styles.sheetContainer,\n            {\n              opacity: sheetOpacity,\n              transform: [\n                {\n                  translateY: sheetOpacity.interpolate({\n                    inputRange: [0, 1],\n                    outputRange: [this._actionSheetHeight, 0],\n                  }),\n                },\n              ],\n            },\n          ]}>\n          <View style={styles.sheet} onLayout={this._setActionSheetHeight}>\n            <ActionGroup\n              options={optionsArray}\n              icons={icons}\n              tintIcons={tintIcons === undefined ? true : tintIcons}\n              destructiveButtonIndex={destructiveButtonIndex}\n              destructiveColor={destructiveColor}\n              disabledButtonIndices={disabledButtonIndices}\n              onSelect={this._onSelect}\n              startIndex={0}\n              length={optionsArray.length}\n              textStyle={textStyle || {}}\n              tintColor={tintColor}\n              title={title || undefined}\n              titleTextStyle={titleTextStyle}\n              message={message || undefined}\n              messageTextStyle={messageTextStyle}\n              autoFocus={autoFocus}\n              showSeparators={showSeparators}\n              containerStyle={containerStyle}\n              separatorStyle={separatorStyle}\n            />\n          </View>\n        </Animated.View>\n      </TouchableWithoutFeedback>\n    );\n  }\n\n  showActionSheetWithOptions = (options: ActionSheetOptions, onSelect: (i: number) => void) => {\n    const { isVisible, overlayOpacity, sheetOpacity } = this.state;\n\n    if (isVisible) {\n      this._deferAfterAnimation = this.showActionSheetWithOptions.bind(this, options, onSelect);\n      return;\n    }\n\n    this.setState({\n      options,\n      onSelect,\n      isVisible: true,\n      isAnimating: true,\n    });\n    overlayOpacity.setValue(0);\n    sheetOpacity.setValue(0);\n    Animated.parallel([\n      Animated.timing(overlayOpacity, {\n        toValue: 0.32,\n        easing: EASING_OUT,\n        duration: OPACITY_ANIMATION_IN_TIME,\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n      Animated.timing(sheetOpacity, {\n        toValue: 1,\n        easing: EASING_OUT,\n        duration: OPACITY_ANIMATION_IN_TIME,\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n    ]).start((result) => {\n      if (result.finished) {\n        this.setState({\n          isAnimating: false,\n        });\n        this._deferAfterAnimation = undefined;\n      }\n    });\n    // @ts-ignore: Argument of type '\"actionSheetHardwareBackPress\"' is not assignable to parameter of type '\"hardwareBackPress\"'\n    BackHandler.addEventListener('actionSheetHardwareBackPress', this._selectCancelButton);\n  };\n\n  _selectCancelButton = () => {\n    const { options } = this.state;\n\n    if (!options) {\n      return false;\n    }\n\n    if (typeof options.cancelButtonIndex === 'undefined') {\n      return false;\n    } else if (typeof options.cancelButtonIndex === 'number') {\n      return this._onSelect(options.cancelButtonIndex);\n    } else {\n      return this._animateOut();\n    }\n  };\n\n  _onSelect = (index: number): boolean => {\n    const { isAnimating, onSelect } = this.state;\n\n    if (isAnimating) {\n      return false;\n    }\n\n    if (onSelect) {\n      this._deferAfterAnimation = onSelect.bind(this, index);\n    }\n\n    return this._animateOut();\n  };\n\n  _animateOut = (): boolean => {\n    const { isAnimating, overlayOpacity, sheetOpacity } = this.state;\n\n    if (isAnimating) {\n      return false;\n    }\n\n    // @ts-ignore: Argument of type '\"actionSheetHardwareBackPress\"' is not assignable to parameter of type '\"hardwareBackPress\"'\n    BackHandler.removeEventListener('actionSheetHardwareBackPress', this._selectCancelButton);\n    this.setState({\n      isAnimating: true,\n    });\n    Animated.parallel([\n      Animated.timing(overlayOpacity, {\n        toValue: 0,\n        easing: EASING_IN,\n        duration: OPACITY_ANIMATION_OUT_TIME,\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n      Animated.timing(sheetOpacity, {\n        toValue: 0,\n        easing: EASING_IN,\n        duration: OPACITY_ANIMATION_OUT_TIME,\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n    ]).start((result) => {\n      if (result.finished) {\n        this.setState({\n          isVisible: false,\n          isAnimating: false,\n        });\n\n        if (this._deferAfterAnimation) {\n          this._deferAfterAnimation();\n        }\n      }\n    });\n    return true;\n  };\n}\n\nconst styles = StyleSheet.create({\n  flexContainer: {\n    flex: 1,\n  },\n  overlay: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    backgroundColor: 'black',\n  },\n  sheetContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    top: 0,\n    backgroundColor: 'transparent',\n    alignItems: 'flex-end',\n    justifyContent: 'center',\n    flexDirection: 'row',\n  },\n  sheet: {\n    flex: 1,\n    backgroundColor: 'transparent',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}