{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { createUserWithEmailAndPassword, getAuth, onAuthStateChanged } from 'firebase/auth';\nimport React, { useEffect, useState } from 'react';\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport firebaseConfig from \"../../../authBase\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setUsername, setP } from \"../../slices/user\";\nimport { createUser } from \"../../services/api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction SignUpScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var auth = getAuth(firebaseConfig);\n  var dispatch = useDispatch();\n\n  var handleSignUp = function handleSignUp() {\n    createUserWithEmailAndPassword(auth, email, password).then(function (userCredentials) {\n      var user = userCredentials.user;\n      console.log(\"1\", user.email, password);\n      dispatch(setUsername(email));\n      dispatch(setP(password));\n      var params = {\n        username: user.email,\n        password: password\n      };\n      dispatch(createUser(params));\n      navigation.replace('Home');\n      console.log('Registered with:', user.email);\n    }).catch(function (error) {\n      return alert(error.message);\n    });\n  };\n\n  return _jsxs(KeyboardAvoidingView, {\n    style: styles.container,\n    behavior: \"padding\",\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Register\"\n    }), _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(TextInput, {\n        placeholder: \"Email\",\n        value: email,\n        onChangeText: function onChangeText(text) {\n          return setEmail(text);\n        },\n        style: styles.input\n      }), _jsx(TextInput, {\n        placeholder: \"Password\",\n        value: password,\n        onChangeText: function onChangeText(text) {\n          return setPassword(text);\n        },\n        style: styles.input,\n        secureTextEntry: true\n      })]\n    }), _jsxs(View, {\n      style: styles.buttonContainer,\n      children: [_jsx(TouchableOpacity, {\n        onPress: handleSignUp,\n        style: styles.button,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"Sign Up !\"\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.replace('Demo');\n        },\n        children: _jsx(Text, {\n          style: styles.forgotPassword,\n          children: \"Go Back\"\n        })\n      })]\n    })]\n  });\n}\n\nexport default SignUpScreen;\nvar styles = StyleSheet.create({\n  title: {\n    position: 'absolute',\n    width: 232,\n    height: 68,\n    left: 98,\n    top: 200,\n    fontWeight: 'bold',\n    fontSize: 56,\n    color: '#198F94'\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#323C47'\n  },\n  inputContainer: {\n    width: '70%',\n    marginBottom: 50\n  },\n  input: {\n    backgroundColor: 'white',\n    paddingHorizontal: 15,\n    paddingVertical: 20,\n    borderRadius: 15,\n    marginTop: 50\n  },\n  buttonContainer: {\n    position: 'absolute',\n    height: 65,\n    width: 300,\n    left: 64,\n    top: 560\n  },\n  button: {\n    backgroundColor: '#198F94',\n    width: '100%',\n    padding: 15,\n    borderRadius: 25,\n    alignItems: 'center'\n  },\n  buttonOutline: {\n    backgroundColor: 'white',\n    marginTop: 5,\n    borderColor: '#198F94',\n    borderWidth: 2\n  },\n  buttonText: {\n    height: 31,\n    left: 5,\n    color: 'white',\n    fontWeight: '700',\n    fontSize: 26\n  }\n});","map":{"version":3,"names":["createUserWithEmailAndPassword","getAuth","onAuthStateChanged","React","useEffect","useState","firebaseConfig","useDispatch","useSelector","setUsername","setP","createUser","SignUpScreen","navigation","email","setEmail","password","setPassword","auth","dispatch","handleSignUp","then","userCredentials","user","console","log","params","username","replace","catch","error","alert","message","styles","container","title","inputContainer","text","input","buttonContainer","button","buttonText","forgotPassword","StyleSheet","create","position","width","height","left","top","fontWeight","fontSize","color","flex","justifyContent","alignItems","backgroundColor","marginBottom","paddingHorizontal","paddingVertical","borderRadius","marginTop","padding","buttonOutline","borderColor","borderWidth"],"sources":["/Users/tangweijia/Desktop/mobile/team2/frontend/src/pages/register/index.js"],"sourcesContent":["import {\n    createUserWithEmailAndPassword, getAuth, onAuthStateChanged\n  } from 'firebase/auth';\n  import React, { useEffect, useState } from 'react';\n  import {\n    KeyboardAvoidingView,\n    StyleSheet,\n    Text,\n    TextInput,\n    TouchableOpacity,\n    View\n  } from 'react-native';\n  import firebaseConfig from '../../../authBase';\n  import { useDispatch, useSelector } from 'react-redux';\n  import {setUsername, setP} from '../../slices/user'\n  import {createUser} from '../../services/api';\n\n  \n  function SignUpScreen({ navigation }) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const auth = getAuth(firebaseConfig);\n    const dispatch = useDispatch()\n\n  \n    const handleSignUp = () => {\n      createUserWithEmailAndPassword(auth, email, password)\n        .then((userCredentials) => {\n          const { user } = userCredentials;\n          console.log(\"1\", user.email, password);\n          dispatch(setUsername(email));\n          dispatch(setP(password));\n          const params = {username: user.email, password: password}\n          dispatch(createUser(params));\n          navigation.replace('Home');\n          console.log('Registered with:', user.email);\n          \n        })\n        .catch((error) => alert(error.message));\n    };\n\n\n  \n\n  \n    return (\n        <KeyboardAvoidingView\n            style={styles.container}\n            behavior=\"padding\">\n\n            <Text style={styles.title}>Register</Text>\n\n\n            <View style={styles.inputContainer}>\n            <TextInput\n                placeholder=\"Email\"\n                value={email}\n                onChangeText={(text) => setEmail(text)}\n                style={styles.input}\n            />\n            <TextInput\n                placeholder=\"Password\"\n                value={password}\n                onChangeText={(text) => setPassword(text)}\n                style={styles.input}\n                secureTextEntry\n            />\n            </View>\n\n            <View style={styles.buttonContainer}>\n\n            <TouchableOpacity\n                onPress={handleSignUp}\n                style={styles.button}\n            >\n                <Text style={styles.buttonText}>Sign Up !</Text>\n            </TouchableOpacity>\n\n            <TouchableOpacity\n                onPress = {() => navigation.replace('Demo')}\n            >\n                <Text style={styles.forgotPassword}>Go Back</Text>\n             </TouchableOpacity>\n            </View>\n        </KeyboardAvoidingView>\n    );\n  }\n  \n  export default SignUpScreen;\n  \n  const styles = StyleSheet.create({\n\n    title: {\n        position: 'absolute',\n        width: 232,\n        height: 68,\n        left: 98,\n        top: 200,\n\n        fontWeight: 'bold',\n        fontSize: 56,\n\n        color: '#198F94',\n    },\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#323C47',\n      \n    },\n    inputContainer: {\n      width: '70%',\n        marginBottom: 50,\n    },\n    input: {\n\n        backgroundColor: 'white',\n        paddingHorizontal: 15,\n        paddingVertical: 20,\n        borderRadius: 15,\n        marginTop: 50,\n    },\n    buttonContainer: {\n        position: 'absolute',\n        height: 65,\n        width: 300,\n        left: 64,\n        top: 560,\n\n    },\n    button: {\n      backgroundColor: '#198F94',\n      width: '100%',\n      padding: 15,\n      borderRadius: 25,\n      alignItems: 'center',\n    },\n    buttonOutline: {\n      backgroundColor: 'white',\n      marginTop: 5,\n      borderColor: '#198F94',\n      borderWidth: 2,\n    },\n    buttonText: {\n        height: 31,\n        left: 5,\n        color: 'white',\n        fontWeight: '700',\n        fontSize: 26,\n    },\n\n  });\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}